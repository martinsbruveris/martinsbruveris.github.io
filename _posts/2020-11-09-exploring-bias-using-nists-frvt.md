---
layout: post
title: "Exploring Bias using NIST's FRVT"
date: 2020-11-09T09:00:29+00:00
author: Martins Bruveris
tags: face-recognition
---
"All unbiased algorithms are alike; each biased algorithm is biased in its own way." In this post we will see how valid Tolstoy's quote is when applied to face recognition. There is no doubt that face recognition algorithms are biased: their accuracy is different for different population groups. In fact, it is hard to check the first part of Tolstoy's quote, because we don't know any unbiased algorithms. But we can investigate the second part. How does bias differ across algorithms?<!--more-->

How will we do this? As part of NIST's <a href="https://pages.nist.gov/frvt/html/frvt11.html">Face Recognition Vendor Test</a>Â (FRVT) algorithms are evaluated not only for overall accuracy but also racial, gender, age and geographic bias. Here, we will focus on geographic bias[^1].

By parsing NIST's algorithm <a href="https://pages.nist.gov/frvt/reportcards/11/deepglint_002.html">report cards</a>, we can obtain data for ten geographic regions (Sub-Saharan Africa, South Asia, Polynesia, North Africa, Middle East, Europe, East Asia, Central and South America, Central Asia, and East Asia). In particular let us look at the cross-region *false match rates* (FMR) at a fixed overall threshold. What this means is that for each algorithm we determine a decision threshold that would give an overall FMR=1e-4. With this threshold we then measure the FMR obtained when verifying images from region A against enrolled images from region B and plot the log10 FMR values in a heatmap, such as the one below.

![deepglint_002]({{ '/assets/images/2020/11/deepglint_002.jpg' | relative_url }})
{: style="width:60%;" class="center"}

A perfectly unbiased algorithm would have a uniformly grey heatmap with -4 = log10(1e-4) in each cell. Unfortunately, algorithms are not perfectly unbiased and so we see that, e.g., matching images from the Caribean (CARIB) against images from Sub-Saharan Africa (SSAFRICA) gives an FMR=1e-3.3=0.0005, which is 5 times higher than the overall FMR of 1e-4=0.0001.
<h4>Distribution of bias</h4>
We can look at the FMR heatmap of each individual algorithm, but there are over 200 of them, making it difficult to spot trends. First, we will restrict our analysis to algorithms that meet a basic threshold for accuracy. We require that the *false non-match rate (FNMR)* satisfies FNMR&lt;0.1 at FMR=1e-6 on the visa image dataset. Of all algorithms 197 meet this criterium. We do this, because overall performance and bias are not independent. If the FNMR is too high then the algorithm is not useful and so any questions of bias become irrelevant.

There is no unique way to summarise bias in a single number, which is why NIST published the full heatmaps. But it is insightful to try regardless. We look only at the diagonal of the FMR matrix, i.e., we look at the within-region FMR values, and we consider the following three measurements. The first measures the average distance to the mean, the second measures the maximum distance to the mean and the third measures the range of numbers along the diagonal.

$$
\begin{aligned}
\mathrm{Bias}_{L^1} &= \frac{1}{n}\sum_{j=1}^n \left| \mathrm{FMR}(j,j) - \overline{\mathrm{FMR}} \right| \\
\mathrm{Bias}_{L^\infty} &= \max_{j=1,\dots,n} \left| \mathrm{FMR}(j,j) - \overline{\mathrm{FMR}} \right| \\
\mathrm{Bias}_{\mathrm{Range}} &= \max_{j=1,\dots,n} \mathrm{FMR}(j,j) - \min_{j=1,\dots} \mathrm{FMR}(j,j)
\end{aligned}
$$

Here, $$\overline{\mathrm{FMR}} = \frac{1}{n} \sum_{j=1}^n \mathrm{FMR}(j,j)$$ is the average FMR along the diagonal. As we can see below the three bias measures are highly correlated and yield almost the same results.

![FMR region pairplot]({{
'/assets/images/2020/11/frvt_11_region_fmr_pairplot.jpg' | relative_url }})
{: style="width:80%;" class="center"}

If we sort all algorithms by their bias, how do most and least biased algorithms look like? The least biased algorithm according to the $$L^1$$-measure is shu-002,

![shu_002]({{ '/assets/images/2020/11/shu_002.jpg' | relative_url }})
{: style="width:60%;" class="center"}

while the most biased one is fiberhome-nanjing-002.

![fiberhome_nanjing_002]({{ '/assets/images/2020/11/fiberhome_nanjing_002.jpg' | relative_url }})
{: style="width:60%;" class="center"}

The bias for fiberhome-nanjing-002 results from the fact that the algorithm has a very low FMR for East Asia at the expense of significantly higher FMR for other regions. Is this a problem? That depends on where the algorithm will be used. It is easy to imagine applications with a <em>mostly</em> East Asian user base, but much more difficult to find applications where the user base is <em>exclusively</em> East Asian.
<h4>Dimensionality reduction</h4>
We want to investigate the following question: How much variation is there across algorithms? Can we find common properties across algorithms? For example, in a previous <a href="https://martinsbruveris.com/?p=617">post</a> we saw that all algorithms had higher FMR on white males compared to black females. Here our data are the 10x10 heatmaps, and so the the number of possibilities is much larger. To gain some insight, we will the <a href="https://umap-learn.readthedocs.io/en/latest/">UMAP</a> library to perform nonlinar dimensionality reduction and visualise the space of heatmaps in 2D.

To make spotting trends easier, the tooltips in the plot below don't show the heatmaps themselves, but rather how much each heatmap differs from the mean heatmap (averaged in log10 space). The mean heatmap is shown here.

![Mean heatmap]({{ '/assets/images/2020/11/frvt_11_region_fmr_mean.jpg' | relative_url }})
{: style="width:60%;" class="center"}

This is not in any way a bias-free algorithm, rather it shows the mean of the existing algorithms. We notice that FMR for Polynesia, South Asia and Sub-Saharan Africa are higher that for other regions, while East Asia is well separated from other regions, evidenced by a low cross-region FMR. The UMAP plot will show how these trends are either amplified or dampened by various algorithms.

<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-2.2.1.min.js" integrity="sha384-qkRvDQVAIfzsJo40iRBbxt6sttt0hv4lh74DG7OK4MCHv4C5oohXYoHUM5W11uqS" crossorigin="anonymous"></script>
<script type="text/javascript">
    Bokeh.set_log_level("info");
</script>

<script type="application/json" id="1197">
  {"f95ab574-4a64-499a-93a3-7c3f8c601387":{"roots":{"references":[{"attributes":{"formatter":{"id":"1079"},"ticker":{"id":"1051"}},"id":"1050","type":"LinearAxis"},{"attributes":{"formatter":{"id":"1081"},"ticker":{"id":"1055"}},"id":"1054","type":"LinearAxis"},{"attributes":{},"id":"1044","type":"DataRange1d"},{"attributes":{"data":{"caption":["3divi-004","3divi-005","acer-001","advance-002","aifirst-001","aigen-001","ailabs-001","aimall-002","aimall-003","aiunionface-000","alchera-000","alchera-001","alleyes-000","allgovision-000","alphaface-001","alphaface-002","anke-004","anke-005","anyvision-002","anyvision-004","asusaics-000","asusaics-001","aware-004","aware-005","bioidtechswiss-000","bioidtechswiss-001","camvi-002","camvi-004","ceiec-002","ceiec-003","chosun-001","chtface-002","chtface-003","cib-000","cib-001","cogent-003","cogent-004","cognitec-000","cognitec-001","cor-001","ctbcbank-000","ctbcbank-001","cuhkee-001","cyberlink-004","cyberlink-005","dahua-004","dahua-005","deepglint-001","deepglint-002","deepsea-001","dermalog-006","didiglobalface-001","einetworks-000","ercacat-001","expasoft-000","expasoft-001","f8-001","facesoft-000","fiberhome-nanjing-002","fujitsulab-000","fujitsulab-001","geo-000","glory-002","gorilla-006","hik-001","hr-002","id3-004","id3-005","idemia-005","idemia-006","iit-001","iit-002","imagus-000","imagus-001","imperial-000","imperial-002","incode-006","incode-007","innefulabs-000","innovativetechnologyltd-001","innovativetechnologyltd-002","innovatrics-006","innovatrics-007","intellicloudai-001","intellifusion-001","intellifusion-002","intelresearch-001","intelresearch-002","intsysmsu-002","iqface-000","iqface-002","isap-002","isystems-001","isystems-002","itmo-006","itmo-007","kakao-003","kedacom-000","kneron-003","kneron-005","lookman-002","lookman-004","megvii-001","megvii-002","meiya-001","mobai-000","mt-000","mt-002","mvision-001","nazhiai-000","netbridgetech-002","neurotechnology-008","neurotechnology-009","nodeflux-002","ntechlab-007","ntechlab-008","oz-001","paravision-004","pensees-001","pixelall-003","pixelall-004","psl-003","psl-005","ptakuratsatu-000","pxl-001","pyramid-000","rankone-008","rankone-009","realnetworks-002","realnetworks-003","remarkai-001","remarkai-002","rokid-000","rokid-001","s1-001","saffe-002","samtech-001","scanovate-001","scanovate-002","sensetime-002","sensetime-003","sertis-000","sertis-001","shu-002","shu-003","siat-002","siat-004","sjtu-001","sjtu-002","staqu-000","starhybrid-001","synesis-006","synesis-007","synology-000","synology-002","tech5-004","tech5-005","tevian-005","tiger-002","tiger-003","tongyi-005","toshiba-002","toshiba-003","trueface-001","ulsee-001","uluface-002","uluface-003","upc-001","vd-001","veridas-003","veridas-004","via-000","via-001","videmo-000","vigilantsolutions-007","vigilantsolutions-008","vinai-000","vion-000","visionbox-000","visionbox-001","visionlabs-008","visionlabs-009","vocord-007","vocord-008","winsense-000","winsense-001","x-laboratory-000","x-laboratory-001","xforwardai-000","yitu-003","yoonik-000","yuan-000"],"filepath":["/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/3divi_004.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/3divi_005.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/acer_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/advance_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/aifirst_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/aigen_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/ailabs_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/aimall_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/aimall_003.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/aiunionface_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/alchera_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/alchera_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/alleyes_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/allgovision_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/alphaface_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/alphaface_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/anke_004.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/anke_005.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/anyvision_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/anyvision_004.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/asusaics_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/asusaics_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/aware_004.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/aware_005.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/bioidtechswiss_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/bioidtechswiss_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/camvi_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/camvi_004.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/ceiec_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/ceiec_003.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/chosun_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/chtface_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/chtface_003.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/cib_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/cib_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/cogent_003.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/cogent_004.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/cognitec_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/cognitec_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/cor_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/ctbcbank_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/ctbcbank_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/cuhkee_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/cyberlink_004.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/cyberlink_005.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/dahua_004.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/dahua_005.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/deepglint_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/deepglint_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/deepsea_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/dermalog_006.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/didiglobalface_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/einetworks_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/ercacat_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/expasoft_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/expasoft_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/f8_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/facesoft_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/fiberhome_nanjing_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/fujitsulab_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/fujitsulab_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/geo_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/glory_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/gorilla_006.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/hik_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/hr_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/id3_004.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/id3_005.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/idemia_005.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/idemia_006.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/iit_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/iit_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/imagus_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/imagus_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/imperial_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/imperial_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/incode_006.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/incode_007.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/innefulabs_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/innovativetechnologyltd_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/innovativetechnologyltd_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/innovatrics_006.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/innovatrics_007.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/intellicloudai_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/intellifusion_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/intellifusion_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/intelresearch_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/intelresearch_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/intsysmsu_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/iqface_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/iqface_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/isap_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/isystems_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/isystems_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/itmo_006.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/itmo_007.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/kakao_003.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/kedacom_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/kneron_003.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/kneron_005.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/lookman_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/lookman_004.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/megvii_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/megvii_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/meiya_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/mobai_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/mt_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/mt_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/mvision_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/nazhiai_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/netbridgetech_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/neurotechnology_008.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/neurotechnology_009.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/nodeflux_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/ntechlab_007.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/ntechlab_008.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/oz_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/paravision_004.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/pensees_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/pixelall_003.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/pixelall_004.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/psl_003.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/psl_005.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/ptakuratsatu_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/pxl_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/pyramid_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/rankone_008.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/rankone_009.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/realnetworks_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/realnetworks_003.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/remarkai_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/remarkai_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/rokid_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/rokid_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/s1_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/saffe_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/samtech_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/scanovate_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/scanovate_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/sensetime_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/sensetime_003.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/sertis_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/sertis_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/shu_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/shu_003.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/siat_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/siat_004.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/sjtu_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/sjtu_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/staqu_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/starhybrid_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/synesis_006.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/synesis_007.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/synology_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/synology_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/tech5_004.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/tech5_005.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/tevian_005.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/tiger_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/tiger_003.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/tongyi_005.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/toshiba_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/toshiba_003.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/trueface_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/ulsee_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/uluface_002.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/uluface_003.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/upc_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/vd_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/veridas_003.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/veridas_004.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/via_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/via_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/videmo_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/vigilantsolutions_007.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/vigilantsolutions_008.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/vinai_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/vion_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/visionbox_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/visionbox_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/visionlabs_008.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/visionlabs_009.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/vocord_007.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/vocord_008.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/winsense_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/winsense_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/x_laboratory_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/x_laboratory_001.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/xforwardai_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/yitu_003.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/yoonik_000.jpg","/quo-vadis/assets/images/2020/11/nist_frvt_analysis/figures/fmr_by_region_mean/any/yuan_000.jpg"],"index":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191],"x":{"__ndarray__":"F6XeQD+GG0EPGwFBv7S/P3wH+UC2KB5BnFCgPxQ4FkCY9ENAmWP5QIbJCUGaoRVBwqnUP0QDKEFK8OdA8Gb/P3jZ5z+rruK9opIIQWXCkUASRyZBClcmQR7I90CTfApBy4TUQH5X4z/I+yJB0CgkQXbxwD+5u+hAGLIbQXeqGkFOcrM/QxYaQSEbF0EFN70/s+vXP+gMAUEydwFBaxzoQA/uDEFEMCRBCxHRQOKwCUCNrPM/hN4gQDjALkBH8e8/RZc4QI+e8j/7MSNBuNb3P8UPJEHclNFADLIfQdv9IkF3PRlBRGPoQP4XWr6DTxA/n5IhQNCgxD/+fihBkDPSQOQwLj8eJBRA9H0TQcw9JUHj6cM/97M1QEhtJ0G9tyFBy2IVQRlQBUHzlJc/YhTqQKmYAUGDVgpBIbYdQcQMD0FbYRBBmTHdQO5xG0ALQAVBhPUXQDYmFUB2tZw/Nwv6P5Q5ZLwi/e9A4BMJQPVYB0E11RpBYXcXQS4GkT9sBeY/sYwYQPje/z5Y+iNB9xP9QPUBmT/cdCg/mdmGvsCuhj8/5IO9vG65P/QgEUHoRDG+ZuDMQK1k40CIgx9BUX4qQapzBEDNayJBerhEQKpTPECIFXY/sjNvQGm4HEC6/fBAfld0QNJbCkAHgixBXUUYQIXGEkEwFhxBiCweQc073UBMUVBA1ihLQATrJkGmMP9AFWTiQOhO70CAwog+J0YjQRsEKEG/OyZBvdyfP1ueEkAR9j9AXaDUP7s1IUHRGy1AQd8oQLvXJUBiWyBA7HcrQDcLM0CYPCJB6cYDQAML8UCkLspA7r0GQdhnz0CivUBAgXXoPxki10Bk5vdAX8QfQcPlyj/uRR5BDrgjQWiVIUHUDBFB4DjFP/KWDUBSl309FN8oQcjfH0EFkABB/GgZQZ5DIUEIDQ9B+HH7QB43UkBXWuxAlF4nQa7SJEH9qhxBZVtLQJ0ySEAri/E/hdISQJhJ/kACd7Q/mKdoP6UzHb7ELuNA0GPwPyPL9T/mYx5B","dtype":"float32","order":"little","shape":[192]},"y":{"__ndarray__":"NBGiQCBAwUCe/4hADXfpQEcVoUBgC7dAzbPCQIVO50ATTp9AmDWqQAdljUAZCo1AmnTgQPtvaEARppxAxujhQLfY/kCartxAs/+WQB5nnkCd7o1AtnmNQAOTdkC8f3xAdSOVQAvHn0AxHoRAEBJBQLUNsEAVnpFANXt6QKhJTUCRuLRA4wGpQBAFo0DKP/dAQX6qQD/ql0Bjop1A/XCsQLjQgkCQaJlAg2WeQJ3T70BsG+5AvVSWQMlzlECIWq1AN2OvQH6stkASP6tA05r4QBLwo0BI8p1AF51EQHUYi0ClVZhAqjSTQBu13EB0QN1AuImZQICxu0ALO6VAhzGdQEIL3kBCrpdAq/63QN+2nUBjp/FAH/qlQEvHo0CHuqJAUhu5QD0Gt0DjR85A1emdQBjrhkCguqhAc2O9QOnHukAkurhAAlKpQNTKkEBU0I9A//65QL6iukD07cZAKFirQEib3UCdsqRA+dehQL9zn0CBabJA0IGxQM+j4kB447hAI/boQCkg20ALU0RAy++oQLri9UDE3dNAhCfZQD2S0UD6ut5AeeXVQOETn0ATI99Aqb+pQJ3upUDHT6VAkbJbQM4F80CvhHBAocyWQFjalEATndVAiw2WQOGn50BkyLNAqFmZQDjj80AU519AtCOPQAwVkUAOvLhAbsJOQKDgj0BWgZpA/62bQEB/hkD84aJAmX2rQBokrkDks+RAtS2ZQITWWUDIda1A8uT0QHkD8EB0r59AXhwAQUxJqkCPvrlAGBu0QEDI8UAwx+1AHge3QIu9s0DWr55AnOW6QOlzg0A+UqRA1z+lQCMwr0A86apAioOgQICGlED3mX9AamtTQK+S+0C/gYJAkkBqQEhoPkD04a5AGBy5QK/h50A4YeFAMLd5QMiRO0DPPYRAvKduQIItr0D+v4ZAc7OtQDswmEDS6LFAH3pcQOZuX0CSm6xAEjyKQKyMjEDhHapANs2lQK0Ar0BF69dA5/neQIpF4UDm0Z5AWdqdQH0y4UDCB6JA","dtype":"float32","order":"little","shape":[192]}},"selected":{"id":"1083"},"selection_policy":{"id":"1084"}},"id":"1070","type":"ColumnDataSource"},{"attributes":{},"id":"1084","type":"UnionRenderers"},{"attributes":{},"id":"1046","type":"LinearScale"},{"attributes":{"children":[{"id":"1039"}],"sizing_mode":"scale_width"},"id":"1076","type":"Column"},{"attributes":{"source":{"id":"1070"}},"id":"1075","type":"CDSView"},{"attributes":{"fill_alpha":{"value":0.75},"fill_color":{"value":"blue"},"line_alpha":{"value":0.75},"size":{"units":"screen","value":8},"x":{"field":"x"},"y":{"field":"y"}},"id":"1072","type":"Circle"},{"attributes":{"axis":{"id":"1050"},"ticker":null},"id":"1053","type":"Grid"},{"attributes":{},"id":"1081","type":"BasicTickFormatter"},{"attributes":{},"id":"1051","type":"BasicTicker"},{"attributes":{},"id":"1058","type":"PanTool"},{"attributes":{},"id":"1061","type":"ResetTool"},{"attributes":{},"id":"1055","type":"BasicTicker"},{"attributes":{"axis":{"id":"1054"},"dimension":1,"ticker":null},"id":"1057","type":"Grid"},{"attributes":{},"id":"1083","type":"Selection"},{"attributes":{},"id":"1079","type":"BasicTickFormatter"},{"attributes":{"overlay":{"id":"1062"}},"id":"1059","type":"BoxZoomTool"},{"attributes":{},"id":"1048","type":"LinearScale"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"1058"},{"id":"1059"},{"id":"1060"},{"id":"1061"},{"id":"1063"}]},"id":"1064","type":"Toolbar"},{"attributes":{},"id":"1060","type":"SaveTool"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"blue"},"line_alpha":{"value":0.1},"size":{"units":"screen","value":8},"x":{"field":"x"},"y":{"field":"y"}},"id":"1073","type":"Circle"},{"attributes":{"background_fill_color":"#fafafa","below":[{"id":"1050"}],"center":[{"id":"1053"},{"id":"1057"}],"left":[{"id":"1054"}],"plot_height":400,"renderers":[{"id":"1074"}],"sizing_mode":"scale_width","title":{"id":"1040"},"toolbar":{"id":"1064"},"x_range":{"id":"1042"},"x_scale":{"id":"1046"},"y_range":{"id":"1044"},"y_scale":{"id":"1048"}},"id":"1039","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"1042","type":"DataRange1d"},{"attributes":{"data_source":{"id":"1070"},"glyph":{"id":"1072"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1073"},"selection_glyph":null,"view":{"id":"1075"}},"id":"1074","type":"GlyphRenderer"},{"attributes":{"callback":null,"tooltips":"\n        &lt;img src=\"@filepath\" style=\"height: 300px; width: 450px\" /&gt;\n    "},"id":"1063","type":"HoverTool"},{"attributes":{"text":"FMR by region (log10), any impostor pairing, at overall FMR=1e-4."},"id":"1040","type":"Title"},{"attributes":{"bottom_units":"screen","fill_alpha":0.5,"fill_color":"lightgrey","left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","top_units":"screen"},"id":"1062","type":"BoxAnnotation"}],"root_ids":["1076"]},"title":"Bokeh Application","version":"2.2.3"}}
</script>
<script type="text/javascript">
  (function() {
    var fn = function() {
      Bokeh.safely(function() {
        (function(root) {
          function embed_document(root) {

          var docs_json = document.getElementById('1197').textContent;
          var render_items = [{"docid":"f95ab574-4a64-499a-93a3-7c3f8c601387","root_ids":["1076"],"roots":{"1076":"1c28e8c6-7eda-4e05-9fb9-1ec72837ffe1"}}];
          root.Bokeh.embed.embed_items(docs_json, render_items);

          }
          if (root.Bokeh !== undefined) {
            embed_document(root);
          } else {
            var attempts = 0;
            var timer = setInterval(function(root) {
              if (root.Bokeh !== undefined) {
                clearInterval(timer);
                embed_document(root);
              } else {
                attempts++;
                if (attempts > 100) {
                  clearInterval(timer);
                  console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                }
              }
            }, 10, root)
          }
        })(window);
      });
    };
    if (document.readyState != "loading") fn();
    else document.addEventListener("DOMContentLoaded", fn);
  })();
</script>

<div id="1c28e8c6-7eda-4e05-9fb9-1ec72837ffe1" class="bk-root" data-root-id="1076"></div>

What do we see?

- The algorithms on the left, in particular those in the cluster around (0, 7), have lower FMR for East Asia and Polynesia and higher FMR for all other regions.</li>
- Conversely, the algorithms on the right have lower FMR for the Carribean and Sub-Saharan Africa.</li>
- The data seems to fall into two distinct clusters, but it is not clear if there is a simple criterium separating them. One hypothesis is that the FMR for Europe is higher than average on the left and lower than average on the right.

### PCA
We can also stay in the linear world and apply PCA to the set of FMR heatmaps. First, let us look at the principal components. As they are *directions* of variation in the space of heatmaps, they need to be added to the mean heatmap shown above.

![PCA 1, 2]({{ '/assets/images/2020/11/frvt_11_region_pca_1_2.jpg' | relative_url }})
{: style="width:100%;" class="center"}

![PCA 3, 4]({{ '/assets/images/2020/11/frvt_11_region_pca_3_4.jpg' | relative_url }})
{: style="width:100%;" class="center"}

Some distinct patterns emerge.

- The first principal component is focused on EASIA and to a lesser extent POLY and CASIA. What is interesting that along this direction the within-CASIA FMR does not change, but the across-region FMR between CASIA and both EASIA and POLY does change.
- The effect of second component is spread more broadly. It changes the FMR for all regions except for CSAMERICA and MEAST and SASIA.
- The third component shows a tradeoff between FMR for CARIB and SSAFRICA on one side and Asia on the other side.
- The fourth component similarly shows a tradeoff between CASIA and EURO on one side and POLY, SASIA and SSAFRICA on the other side.

What these principal direction seem to tell us is that developing an algorithm involves performance tradeoffs. Reducing FMR on one region leads to increased FMR in other regions. Of course an empirical study such as this does not prove in any way that the tradeoffs are inherent or inevitable, only that they are prevalent in the existing algorithm population. For some algorithms these tradeoffs are made consciously by the developers through dataset selection, sampling strategies, etc. In other cases they happen implicitly without anyone choosing which region to focus on. But there is no principal direction that reduces the FMR across the board, not even along the diagonal.

### How much variability?

Principal components show trends among algorithms. We can also use PCA to investigate how much variation there is among all 197 algorithms.

![PCA error]({{ '/assets/images/2020/11/frvt_11_region_pca_var_error.jpg' | relative_url }})
{: style="width:100%;" class="center"}

The graph on the left shows the proportion of variance explained by the first principal components. While all other graphs in this post deal with any (or zero-effort) impostor pairing, here we also compare with same sex, same age, and same sex and age impostor pairings. What we see is that same age impostor pairings (with or without also using same sex) leads to larger variability across algorithms. This suggests that algorithms differ more in their age-specific FMR rates. An interesting observation, but we will leave a detailed investigation for later.

The graph on the right shows the maximum reconstruction error when using only the first principal components to reconstruct the heatmap. The maximum is very unforgiving criterium, but even then with four components the error is less than 0.4 for most algorithms.

![PCA error]({{ '/assets/images/2020/11/frvt_11_region_pca_error_any.jpg' | relative_url }})
{: style="width:100%;" class="center"}

The same plot where the maximum error is replaced by the mean error shows that with four components the mean error is below 0.1 for most algorithms. One could argue that the except for outliers the space of regional FMR heatmaps can be expressed with four dimensions. Given that the heatmaps contain 100 numbers, this is quite a reduction.

### Conclusions

What have we actually learned? In all fairness, probably not that much. We looked at FMR heatmaps, did some exploratory data analysis and looked at some trends. We have seen that there are a few common directions of variation and that these directions involve FRM trade-offs. Reducing FMR for one region is likely to increase FMR for other regions. We have also seen that certain regions are coupled as far the FMR is concerned.

We did not address the reasons for these observations, because we don't know what these reasons are. All we can do is list some possibilities:

- Our sample of algorithms is biased. The space of possible face matching algorithms is vast and we are restricted to those algorithms that were submitted to NIST for evaluation.
- We don't need all algorithms to be unbiased. If we can develop one accurate, bias-free algorithm that is enough. And so, studying the zoo of other algorithms might be academically interesting but also irrelevant.
- Data from different geographic regions might be biased in different ways. For example, image quality could be worse in certain regions leading to higher FMRs.

Maybe, just maybe, some of the observations made in this blog post tell us something about the nature and limits of face recognition algorithms, at least under the constraints on computational power and available training datasets we have today. Maybe the sample of algorithms is large and diverse enough, and maybe the evaluation dataset is controlled enough that some observation are valid. One can but hope...

### Methods

I used python and <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">Beautiful Soup</a> to parse the FRVT 1:1 <a href="https://pages.nist.gov/frvt/html/frvt11.html">report cards</a> from NIST's github <a href="https://github.com/usnistgov/frvt/tree/nist-pages">repository</a>. After that analysis was done using jupyter, pandas and seaborn. All code can be found in this <a href="https://github.com/martinsbruveris/nist-frvt-analysis">repository</a>.

[^1]: Bias manifests itself most strongly in different FMRs across population groups, while FNMR is much more equally distributed. An <a href="https://www.linkedin.com/pulse/real-problem-face-recognition-technology-what-you-sirotin-phd/">argument</a> can be made that for 1:1 matching FMR differentials matter much less than FNMR differentials. While this post focuses on FMR, it is an important caveat to keep in mind.
